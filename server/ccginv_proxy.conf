Listen 3002

<VirtualHost *:3002>
    ServerName 181.115.47.107
    DocumentRoot "C:/Apache24/htdocs"
    
    # Módulos necesarios
    # LoadModule proxy_module modules/mod_proxy.so
    # LoadModule proxy_http_module modules/mod_proxy_http.so
    # LoadModule headers_module modules/mod_headers.so
    
    # Configuración básica
    ProxyRequests Off
    ProxyPreserveHost On
    
    # Especificar el Host exacto que requiere la aplicación según el dashboard de Coolify
    RequestHeader set Host "nkko4o4s4kocw8w8sskgkc4k.10.30.1.11.sslip.io"
    
    # Configuración del proxy - Usamos la IP directamente para evitar errores de DNS (DNS lookup failure)
    # Redirigimos a la IP interna de Coolify (10.30.1.11) en el puerto 80
    ProxyPass / http://10.30.1.11/
    ProxyPassReverse / http://10.30.1.11/
    
    # Configuración adicional para Windows
    AllowEncodedSlashes NoDecode
    ProxyPassReverseCookiePath / /
    
    # Logs para diagnóstico
    ErrorLog "logs/proxy_error_3002.log"
    CustomLog "logs/proxy_access_3002.log" common
    LogLevel debug
</VirtualHost>
